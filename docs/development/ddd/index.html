<!DOCTYPE html><html lang="en" data-astro-cid-sckkx6r4> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/mypage/favicon.svg"><meta name="generator" content="Astro v5.16.12"><title>Learning DDD</title><link rel="stylesheet" href="/mypage/_astro/_slug_.kkj53luF.css"></head> <body class="pt-16" data-astro-cid-sckkx6r4> <nav class="bg-gray-800 p-4 fixed w-full z-10 top-0 shadow-md"> <div class="container mx-auto flex justify-between items-center"> <!-- Logo or Site Title --> <div> <a href="/mypage/" class="text-white text-xl font-bold hover:text-gray-300 flex items-center space-x-2"> <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"> <path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m0 0l7-7 7 7M19 10v10a1 1 0 001 1h3m-11 0a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 011-1h6a1 1 0 011 1v3z"></path> </svg> <span>Yuji's Page</span> </a> </div> <!-- Navigation Links --> <div class="space-x-4 flex items-center"> <a href="/mypage/" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium flex items-center space-x-1"> <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"> <path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m0 0l7-7 7 7M19 10v10a1 1 0 001 1h3m-11 0a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 011-1h6a1 1 0 011 1v3z"></path> </svg> <span class="sr-only">Home</span> </a> <a href="/mypage/docs" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium flex items-center space-x-1"> <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"> <path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path> </svg> <span class="sr-only">Articles</span> </a> <a href="https://github.com/yujikawa" target="_blank" rel="noopener noreferrer" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium flex items-center space-x-1"> <svg viewBox="0 0 16 16" class="h-5 w-5" fill="currentColor" aria-hidden="true"> <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2.0 1.9.0 2.21.0 2.21-.06.22.18.46.55.38C13.71 14.53 16 11.54 16 8c0-4.42-3.58-8-8-8z"></path> </svg> <span class="sr-only">GitHub</span> </a> </div> </div> </nav>  <main class="max-w-5xl mx-auto py-8 px-4 sm:px-6 lg:px-8"> <h1 class="text-4xl font-extrabold text-gray-900 mb-4">Learning DDD</h1> <p class="text-xl text-gray-600 mb-8">ドメイン駆動設計（DDD）の学習に関する記事です。</p> <article class="prose lg:prose-xl max-w-none"> <h1 id="learning-ddd">Learning DDD</h1>
<script type="module">
  import mermaid from 'https://unpkg.com/mermaid@9/dist/mermaid.esm.min.mjs';
  mermaid.initialize({ startOnLoad: true });
</script>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>:local:</span></span></code></pre>
<h2 id="motivation-to-learn-ddd">Motivation to Learn DDD</h2>
<p>When I learned Data mesh, I knew it was based design of DDD and microservices.
But I didn’t know much about DDD so I try learning DDD.</p>
<h2 id="who-should-read-this-article">Who should Read This Article</h2>
<ul>
<li>You want to know DDD.</li>
</ul>
<h2 id="whats-ddd">What’s DDD?</h2>
<p>DDD is called Domain-driven design that is method of software design.
When I heard of it for the first time, I thought “what’s domain?”.</p>
<h3 id="whats-domain-domain-model-and-domain-object">What’s Domain, Domain model and Domain object?</h3>
<p>The domain is problems that we’d like to solve with software.
On the other hand, the domain model is a simplified version of the solution for this problem.
They can’t solve the problems because they are not object. The object is defined as domain that is domain object.</p>
<ul>
<li>Domain: This is concept to solve problems.</li>
<li>Domain model: This is modeled for problems.</li>
<li>Domain object: This is module to run as program.</li>
</ul>
<h3 id="i-try-to-implement-ddd-with-rust">I try to implement DDD with Rust</h3>
<p>I think the fact that try implementing DDD is easy for me to understand it.</p>
<h4 id="example">Example</h4>
<p>First of all, I have to decide what to create app.
I’ll create a diary app. This is a simple app.
System requirements document are</p>
<ul>
<li>You can create a diary.</li>
<li>You can only write 140 characters.</li>
<li>You can create 5 articles a day.</li>
</ul>
<p>It’s too useless. lol</p>
<p>I had an idea for the first time, Diary domain.</p>
<div class="mermaid">
classDiagram
  class Diary
<p>classDiagram
class Article</p>
</div>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="rust"><code><span class="line"><span style="color:#F97583">use</span><span style="color:#B392F0"> chrono</span><span style="color:#F97583">::</span><span style="color:#B392F0">prelude</span><span style="color:#F97583">::*</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">struct</span><span style="color:#B392F0"> Article</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">    text</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    create_at</span><span style="color:#F97583">:</span><span style="color:#B392F0"> DateTime</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">Utc</span><span style="color:#E1E4E8">>,</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> Article</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    fn</span><span style="color:#B392F0"> new</span><span style="color:#E1E4E8">(text</span><span style="color:#F97583">:</span><span style="color:#B392F0"> String</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-></span><span style="color:#B392F0"> Result</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#79B8FF">Self</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">String</span><span style="color:#E1E4E8">> {</span></span>
<span class="line"><span style="color:#F97583">        if</span><span style="color:#E1E4E8"> text</span><span style="color:#F97583">.</span><span style="color:#B392F0">len</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">&#x3C;=</span><span style="color:#79B8FF"> 140</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">            Ok</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">Article</span><span style="color:#E1E4E8"> { text</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> text, create_at</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Utc</span><span style="color:#F97583">::</span><span style="color:#B392F0">now</span><span style="color:#E1E4E8">()})</span></span>
<span class="line"><span style="color:#E1E4E8">        } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">            Err</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"Text is more than 140 characters."</span><span style="color:#F97583">.</span><span style="color:#B392F0">to_string</span><span style="color:#E1E4E8">())</span></span>
<span class="line"><span style="color:#E1E4E8">        }</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">struct</span><span style="color:#B392F0"> Diary</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">    articles</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Vec</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">Article</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">impl</span><span style="color:#B392F0"> Diary</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    fn</span><span style="color:#B392F0"> new</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">-></span><span style="color:#79B8FF"> Self</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">        Diary</span><span style="color:#E1E4E8"> { articles</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Vec</span><span style="color:#F97583">::</span><span style="color:#B392F0">new</span><span style="color:#E1E4E8">() }</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    fn</span><span style="color:#B392F0"> add</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&#x26;mut</span><span style="color:#79B8FF"> self</span><span style="color:#E1E4E8">, article</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Article</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-></span><span style="color:#B392F0"> Result</span><span style="color:#E1E4E8">&#x3C;(), </span><span style="color:#B392F0">String</span><span style="color:#E1E4E8">> {</span></span>
<span class="line"><span style="color:#F97583">        if</span><span style="color:#79B8FF"> self</span><span style="color:#F97583">.</span><span style="color:#B392F0">is_add</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#79B8FF">            self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">articles</span><span style="color:#F97583">.</span><span style="color:#B392F0">push</span><span style="color:#E1E4E8">(article);</span></span>
<span class="line"><span style="color:#B392F0">            Ok</span><span style="color:#E1E4E8">(())</span></span>
<span class="line"><span style="color:#E1E4E8">        } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">            Err</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"I can't create new diary. It is full today."</span><span style="color:#F97583">.</span><span style="color:#B392F0">to_string</span><span style="color:#E1E4E8">())</span></span>
<span class="line"><span style="color:#E1E4E8">        }</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    fn</span><span style="color:#B392F0"> is_add</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">&#x26;</span><span style="color:#79B8FF">self</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-></span><span style="color:#B392F0"> bool</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">        self</span><span style="color:#F97583">.</span><span style="color:#E1E4E8">articles</span><span style="color:#F97583">.</span><span style="color:#B392F0">len</span><span style="color:#E1E4E8">() &#x3C; </span><span style="color:#79B8FF">5</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h2 id="references">References.</h2>
<h3 id="video">Video</h3>
<iframe width="560" height="315" src="https://www.youtube.com/embed/A2EU0paEVJ0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>This video in Japanese is easy for me to understand DDD.</p>
<h3 id="book">Book</h3>
<iframe sandbox="allow-popups allow-scripts allow-modals allow-forms allow-same-origin" style="width:120px;height:240px;" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="//rcm-fe.amazon-adsystem.com/e/cm?lt1=_blank&#x26;bc1=FFFFFF&#x26;IS2=1&#x26;bg1=FFFFFF&#x26;fc1=000000&#x26;lc1=0000FF&#x26;t=yujikawa-22&#x26;language=ja_JP&#x26;o=9&#x26;p=8&#x26;l=as4&#x26;m=amazon&#x26;f=ifr&#x26;ref=as_ss_li_til&#x26;asins=479815072X&#x26;linkId=87bf829477d756e835a723cd05454e93"></iframe>
<p>This book is based implementations to learn DDD.</p> </article> </main>  </body></html>