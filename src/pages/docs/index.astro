---
import { getCollection } from 'astro:content';
import Layout from '../../layouts/Layout.astro';

const allDocs = await getCollection('docs');
const docs = allDocs.filter(doc => doc.slug !== 'intro'); // Filter out the 'intro' page
---

<Layout title="Article List">
  <main class="max-w-5xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
    <h1 class="text-4xl font-extrabold text-text-base mb-8 text-center">Article List</h1>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {docs.length === 0 ? (
        <p class="text-center col-span-full text-text-muted">No articles found.</p>
      ) : (
        docs.map((doc) => (
          <a href={`/mypage/docs/${doc.slug}`} class="block bg-background-alt p-6 rounded-lg shadow-md border border-border-color hover:shadow-lg transition-shadow duration-300">
            <h2 class="text-xl font-semibold text-primary mb-2">{doc.data.title || doc.slug}</h2>
            {doc.data.description && <p class="text-text-muted text-sm">{doc.data.description}</p>}
          </a>
        ))
      )}
    </div>
  </main>
</Layout>